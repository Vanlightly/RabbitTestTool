name: test-eks-playlist
run: 1
systems:
  - name: s1
    host: k8s
    k8s-engine: eks
    file: standard-8-vcpu-latest.yml
    overrides:
      hardware:
        volume-config: 1-gp2-1000
        count: 3
common:
  workload:
    topology:
      file: point-to-point/point-to-point-safe.yml
      variables:
        queueCount: 1
        consumerCount: 1
    policies:
      file: mirrored-queue.yml
      variables:
        ha-mode: exactly
        ha-params: 2
    network:
    rabbitmq:
      config:
benchmarks:
  - benchmark:
      - workload:
          topology:
            variables:
              publisherCount: 1
  - benchmark:
      - workload:
          topology:
            variables:
              publisherCount: 2
  - benchmark:
      - workload:
          topology:
            variables:
              publisherCount: 4
  - benchmark:
      - workload:
          topology:
            variables:
              publisherCount: 8